# Algorithmia + Tableau 

Tableau allows the rapid development and deployment of visualizations, so you can take insights generated by advanced analytics and bring them into the hands of decision makers at the speed of thought.

By
[integrating Algorithmia into Tableau](https://algorithmia.com/developers/integrations),
you can take these visualizations to another level, enhancing them with
machine learning models developed in-house or provided by independent
developers on the Algorithmia.com marketplace.

For complete details, see the [blogpost](https://www.tableau.com/about/blog/2019/7/enrich-data-tableau-machine-learning-using-algorithmia) -- but in a nutshell:

1. Create a Tableau worksheet and bring in the data you'll be analyzing

2. [Install TabPy](https://github.com/tableau/TabPy/blob/master/README.md),
   `pip install algorithmia` into TabPy's Python environment, and
   [connect your worksheet to the TabPy server](https://github.com/tableau/TabPy/blob/master/docs/TableauConfiguration.md).

3. Create calculated fields in your worksheet which execute Algorithmia
   calls using Python:
   
```
SCRIPT_INT("
import Algorithmia
import math
client = Algorithmia.client('ALGORITHMIA_API_KEY')
algo = client.algo('jhurliman/SunMoonCalculator/0.1.0')
if _arg1[0] and _arg2[0]:
    input = {'lat': _arg1, 'lon': _arg2, 'time': _arg3}
    response = algo.pipe(input)
    rads = response.result['sun_altitude']
    return int(math.degrees(rads))
else:
    return 0
",
ATTR([Latitude]),
ATTR([Longitude]),
ATTR([Time])
)
```

4. (optional) create wrapper functions and
   [save them in the TabPy server](./tabpy_saved_functions) to simplify 
   your code and hide your API Keys
